<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="MyOwnMocker : Online mock server">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>MyOwnMocker</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/fopina/myownmocker">View on GitHub</a>

          <h1 id="project_title">MyOwnMocker</h1>
          <h2 id="project_tagline">Online mock server</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/fopina/myownmocker/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/fopina/myownmocker/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a id="api" class="anchor" href="#api" aria-hidden="true"><span class="octicon octicon-link"></span></a>API</h2>

<h4>
<a id="register-for-a-mock-token" class="anchor" href="#register-for-a-mock-token" aria-hidden="true"><span class="octicon octicon-link"></span></a>Register (for a mock token)</h4>

<p>This is the first call you need to make to generate a mock API token to create mock API paths later</p>

<pre><code>GET /register/
</code></pre>

<h6>
<a id="example-response" class="anchor" href="#example-response" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Response</h6>

<pre><code>&lt; HTTP/1.1 200 OK
&lt; Content-Type: application/json

{
  "token": "MeB3aNo4yDXrtNH6"
}
</code></pre>

<h3>
<a id="setup-a-mock-path" class="anchor" href="#setup-a-mock-path" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup (a mock path)</h3>

<p>This is the call to setup (create) mock API paths</p>

<pre><code>POST /setup/:token/
Content-Type: application/json
</code></pre>

<h6>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h6>

<table>
<thead>
<tr>
<th align="center">Name</th>
<th align="center">Type</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">path</td>
<td align="center">string</td>
<td align="center">
<strong>Required</strong>.</td>
</tr>
<tr>
<td align="center">status_code</td>
<td align="center">int</td>
<td align="center">
<strong>Required</strong>.</td>
</tr>
<tr>
<td align="center">content_type</td>
<td align="center">string</td>
<td align="center">
<strong>Required</strong>.</td>
</tr>
<tr>
<td align="center">content_encoding</td>
<td align="center">string</td>
<td align="center">Optional.</td>
</tr>
<tr>
<td align="center">body</td>
<td align="center">string</td>
<td align="center">Optional.</td>
</tr>
</tbody>
</table>

<h6>
<a id="example-input" class="anchor" href="#example-input" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Input</h6>

<pre><code>{
    "path": "login/",
    "status_code": 400,
    "content_type": "application/json",
    "content_encoding": "UTF-8",
    "body": "{\"code\": \"invalid_login\"}"
}
</code></pre>

<h6>
<a id="example-response-1" class="anchor" href="#example-response-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Response</h6>

<pre><code>&lt; HTTP/1.1 200 OK
&lt; Content-Type: application/json

{
    "message": "ok"
}
</code></pre>

<h3>
<a id="mock-your-mock-api-base-url" class="anchor" href="#mock-your-mock-api-base-url" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mock (your mock API base URL)</h3>

<p>This is your mock API "new" base URL. All the mock API paths you setup are available under <code>/mock/:token/</code> for both <code>GET</code>and <code>POST</code>methods.<br>
Example (using token and path created in <code>register</code>and <code>setup</code>section examples):</p>

<pre><code>$ curl -v https://mom.skmobi.com/mock/MeB3aNo4yDXrtNH6/login/
&lt; HTTP/1.1 400 BAD REQUEST
&lt; Content-Type: application/json
&lt; Content-Length: 25
&lt; 
{"code": "invalid_login"}
</code></pre>

<h2>
<a id="setting-up-your-own-copy-of-mom" class="anchor" href="#setting-up-your-own-copy-of-mom" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting up your own copy of MOM</h2>

<p>Using heroku cli, settings your own copy is as easy as:</p>

<pre><code>$ git clone https://github.com/fopina/myownmocker
Cloning into 'myownmocker'...
remote: Counting objects: 35, done.
remote: Compressing objects: 100% (28/28), done.
remote: Total 35 (delta 5), reused 11 (delta 2), pack-reused 0
Unpacking objects: 100% (35/35), done.
Checking connectivity... done.

$ cd myownmocker/
$ heroku create
Creating evening-scrubland-9609... done, stack is cedar-14
https://evening-scrubland-9609.herokuapp.com/ | https://git.heroku.com/evening-scrubland-9609.git
Git remote heroku added

$ git push heroku
Counting objects: 14, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (11/11), done.
Writing objects: 100% (14/14), 4.81 KiB | 0 bytes/s, done.
Total 14 (delta 2), reused 0 (delta 0)
remote: Compressing source files... done.
remote: Building source:
remote: 
(...)
remote: -----&gt; Launching... done, v4
remote:        https://evening-scrubland-9609.herokuapp.com/ deployed to Heroku
remote: 
remote: Verifying deploy... done.
To https://git.heroku.com/evening-scrubland-9609.git
 * [new branch]      master -&gt; master

$ heroku run ./manage.py initdb
Running ./manage.py initdb on evening-scrubland-9609... up, run.7551
Using database postgres://frsnvzfkdflxFc:ZfT4aMeprPYiQC@ec2-107-21-219-235.compute-1.amazonaws.com:5432/dk3m44gfjo30g
Created tables
</code></pre>

<p>And it's live!</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">MyOwnMocker maintained by <a href="https://github.com/fopina">fopina</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-53638170-7");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
